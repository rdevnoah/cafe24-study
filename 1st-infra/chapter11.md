## chapter11 대규모 데이터 처리를 지탱하는 서버/인프라 입문 <sub>웹 서비스의 백엔드</sub>

### 엔터프라이즈 vs 웹서비스

|          | 엔터프라이즈     | 웹서비스                  |
| -------- | ---------------- | ------------------------- |
| 트래픽   | 그다지 많지 않음 | 굉장히 많음               |
| 성장성   | 적당한 정도      | 폭발적                    |
| 신뢰성   | 100% 사수        | 99%                       |
| 트랜잭션 | 많이 사용        | 그다지 많이 사용하지 않음 |

### 웹 서비스의 인프라

웹 서비스의 인프라에서 중요시되는 세 가지 포인트

1. 저비용 고효율 

   - 단순히 저비용, 고효율이라기엔 비용이 실제로 내려가지 않으며, 이를 위한 트레이트오프가 있게 되는데 주로 100%의 신뢰성을 목표로 하지 않게 된다. **하지만 비용을 들인다면 얼마든지 높은 신뢰성을 추구할 수 있지만** 이 부분은 과감히 접고 오히려 비용을 낮춰서 효율을 높인다.

     > 이 책이 쓰인 시점이 2010년경이다. 현재도 100% 신뢰성을 포기하는 전략으로 가진 않는다고 생각한다.

2. 확장성이나 응답성 등에 대한 설계를 중요시한다.

3. 서비스의 사양이 바뀌거나, 기능이 추가 될 때 유연하게 대응할 수 있는 서비스.

   - 변화가 빠른 웹 서비스 영역에서는 사용자의 높아지는 User Experience에 맞춰 빠른 변화가 필요하다.
   - 따라서 개발 속도를 중시한 인프라로 구성해가는 것도 매우 중요한 점이다. 
     - 예를 들면 배포를 가능한 한 간편하게, 배포할 때는 이미 처리 중인 요청에 영향이 없도록.
     - 필요한 서버를 즉시 추가할 수 있도록 해두며,
     - 문제가 발생했을 때에는 곧바로 정상인 상태로 돌아갈 수 있도록 대처해야한다.

### 클라우드 vs 자체구축 인프라

- 클라우드의 장점 : 확장의 유연성

> 책이 쓰인 시점의 특징들이므로, 당시 클라우드의 개선되어야 할 점 위주로 서술되어 있다. 현재 사용되는 클라우드 기술에 대한 공부는 따로 하도록 한다.

- 자체구축 인프라의 장점 

  - 하드웨어 구성을 유연하게 할 수 있다.

    자체적으로 구축하여 운용하기 때문에(비용적 여유가 된다면) 메모리가 부족할 때 언제든 늘릴 수 있고, 디스크의 용량이 부족한 경우도 마찬가지이다.

  - 서비스로부터의 요청에 유연하게 대응할 수 있다.

    > (이 부분의 경우 현재 클라우드를 통해서도 충분히 개선할 수 있다. 자체구축 인프라만의 장점은 아니다.)

  - 병목현상을 제어할 수 있다. 

    로드밸런서나 네트워크 등에서 발생하는 문제들에 대한 제어가 가능하다. 문제가 발견되면 자신의 손으로 직접 해결할 수도 있다. 



### 하테나 북마크 시스템의 예시로 본 구성

- 리버스 프록시 3대
- AP 서버 11대
- DB 서버 24대
- 캐시서버 7대
- 로드배런서 2대
- 그밖의 엔진(검색용, 문서용 등등) 9대

> 위의 서버들이 하는 각각의 역할을 자세하게는 아니더라도 각 역할에 대한 개괄적인 측면에서는 충분히 설명 가능할 것 같다.

